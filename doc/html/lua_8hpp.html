<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Lua-API++: luapp/lua.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="lpp_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lua-API++
   &#160;<span id="projectnumber">2015-02-12-2</span>
   </div>
   <div id="projectbrief">Lua-API++ library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('lua_8hpp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">lua.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main include file for Lua API++ library (no other files need to be included).  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacelua"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelua.html">lua</a></td></tr>
<tr class="memdesc:namespacelua"><td class="mdescLeft">&#160;</td><td class="mdescRight">Every thing in Lua API++ library is contained inside this namespace. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa5b908481d9041fe334bfd1674ded658"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua_8hpp.html#aa5b908481d9041fe334bfd1674ded658">LUAPP_USERDATA</a>(type,  class_name)&#160;&#160;&#160;namespace lua { template &lt;&gt; struct UserData&lt;type&gt; {typedef void enabled; static constexpr const char* const classname = class_name;}; }</td></tr>
<tr class="memdesc:aa5b908481d9041fe334bfd1674ded658"><td class="mdescLeft">&#160;</td><td class="mdescRight">Userdata type to name string binder.  <a href="#aa5b908481d9041fe334bfd1674ded658">More...</a><br /></td></tr>
<tr class="separator:aa5b908481d9041fe334bfd1674ded658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25819f0651a9390dee1d23b6c9335fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua_8hpp.html#ad25819f0651a9390dee1d23b6c9335fa">LUAPP_ARG_CONVERT</a>(src_type,  body)&#160;&#160;&#160;namespace lua { namespace _ { namespace wrap { template&lt;&gt; inline src_type argCvt&lt;src_type&gt;(const ::<a class="el" href="classlua_1_1_valref.html">lua::Valref</a>&amp; val) body }}}</td></tr>
<tr class="memdesc:ad25819f0651a9390dee1d23b6c9335fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Argument conversion binder.  <a href="#ad25819f0651a9390dee1d23b6c9335fa">More...</a><br /></td></tr>
<tr class="separator:ad25819f0651a9390dee1d23b6c9335fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace2dd220e8d4481f58a9e115d9e227bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua_8hpp.html#ace2dd220e8d4481f58a9e115d9e227bc">LUAPP_RV_CONVERT</a>(rv_type,  body)&#160;&#160;&#160;namespace lua { namespace _ { namespace wrap { template&lt;&gt; inline <a class="el" href="classlua_1_1_retval.html">lua::Retval</a> rvCvt&lt;rv_type&gt;(rv_type val, <a class="el" href="classlua_1_1_context.html">lua::Context</a>&amp; context) body }}}</td></tr>
<tr class="memdesc:ace2dd220e8d4481f58a9e115d9e227bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return value conversion binder.  <a href="#ace2dd220e8d4481f58a9e115d9e227bc">More...</a><br /></td></tr>
<tr class="separator:ace2dd220e8d4481f58a9e115d9e227bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a1d08ef8a7b1a72e59f411d9d18d5aacc"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelua.html#a1d08ef8a7b1a72e59f411d9d18d5aacc">LFunction</a> = Retval(*)(Context &amp;)</td></tr>
<tr class="memdesc:a1d08ef8a7b1a72e59f411d9d18d5aacc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to Lua API++ compatible function.  <a href="namespacelua.html#a1d08ef8a7b1a72e59f411d9d18d5aacc">More...</a><br /></td></tr>
<tr class="separator:a1d08ef8a7b1a72e59f411d9d18d5aacc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0fb38d48b0f92faa1fb0b9cf2553ebd9"><td class="memTemplParams" colspan="2">template&lt;LFunction F&gt; </td></tr>
<tr class="memitem:a0fb38d48b0f92faa1fb0b9cf2553ebd9"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacelua.html#a0fb38d48b0f92faa1fb0b9cf2553ebd9">mkcf</a> (lua_State *l)</td></tr>
<tr class="memdesc:a0fb38d48b0f92faa1fb0b9cf2553ebd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper for <a class="el" href="namespacelua.html#a1d08ef8a7b1a72e59f411d9d18d5aacc">LFunction</a> that creates a proper Lua-compatible C function.  <a href="namespacelua.html#a0fb38d48b0f92faa1fb0b9cf2553ebd9">More...</a><br /></td></tr>
<tr class="separator:a0fb38d48b0f92faa1fb0b9cf2553ebd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main include file for Lua API++ library (no other files need to be included). </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aa5b908481d9041fe334bfd1674ded658"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LUAPP_USERDATA</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">class_name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;namespace lua { template &lt;&gt; struct UserData&lt;type&gt; {typedef void enabled; static constexpr const char* const classname = class_name;}; }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Userdata type to name string binder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Userdata type being registered. Must be copyable or moveable. </td></tr>
    <tr><td class="paramname">class_name</td><td>String identifier.</td></tr>
  </table>
  </dd>
</dl>
<p>Use this macro to register some type as a userdata type. After registration this type will be recognised as userdata and can be implicitly converted to Lua value and explicitly converted to from Lua value. The storage for the object is allocated by Lua. </p><dl class="section note"><dt>Note</dt><dd>After registering userdata type with this macro, do not forget to assign its metatable during environment setup. For types that require destruction be sure to set <code>__gc</code> metamethod. </dd>
<dd>
Use this macro outside of namespaces, functions, classes etc. </dd></dl>

</div>
</div>
<a class="anchor" id="ad25819f0651a9390dee1d23b6c9335fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LUAPP_ARG_CONVERT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">src_type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">body&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;namespace lua { namespace _ { namespace wrap { template&lt;&gt; inline src_type argCvt&lt;src_type&gt;(const ::<a class="el" href="classlua_1_1_valref.html">lua::Valref</a>&amp; val) body }}}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Argument conversion binder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src_type</td><td>Native type of function argument. Must not be supported native type or userdata. </td></tr>
    <tr><td class="paramname">body</td><td>The body of conversion function with curved braces.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro is used to define a conversion routine to transform Lua value into native value that will be used as an argument to a wrapped function passed to <a class="el" href="classlua_1_1_context.html#affbac55a8c123d2b7bc7856a0b9004f5">Context::wrap</a> function.<br />
Provide the type for the argument to be converted to from Lua value and the body for function receiving <code>const Valref&amp; val</code> parameter and returning <code>src_type</code>. Example: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> arbitraryFunction(<span class="keyword">const</span> std::vector&lt;char&gt;&amp; x, <span class="keywordtype">int</span> y);</div>
<div class="line"><a class="code" href="lua_8hpp.html#ad25819f0651a9390dee1d23b6c9335fa">LUAPP_ARG_CONVERT</a>(std::vector&lt;char&gt;, {<span class="keyword">const</span> <span class="keywordtype">char</span>* arg = val; <span class="keywordflow">return</span> std::vector&lt;char&gt;(arg, arg + strlen(arg));} )</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>Use this macro outside of namespaces, functions, classes etc. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classlua_1_1_context.html#affbac55a8c123d2b7bc7856a0b9004f5" title="Create a wrapped Lua-compatible function from generic C/C++ function. ">lua::Context::wrap</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ace2dd220e8d4481f58a9e115d9e227bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LUAPP_RV_CONVERT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rv_type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">body&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;namespace lua { namespace _ { namespace wrap { template&lt;&gt; inline <a class="el" href="classlua_1_1_retval.html">lua::Retval</a> rvCvt&lt;rv_type&gt;(rv_type val, <a class="el" href="classlua_1_1_context.html">lua::Context</a>&amp; context) body }}}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return value conversion binder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rv_type</td><td>Native type of function argument. Must not be supported native type or userdata. </td></tr>
    <tr><td class="paramname">body</td><td>The body of conversion function with curved braces.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro is used to define a conversion routine to transform native value returned by arbitrary C++ function into a Lua value that will be returned by wrapper function created by <a class="el" href="classlua_1_1_context.html#affbac55a8c123d2b7bc7856a0b9004f5">Context::wrap</a> function.<br />
Provide the type for the return value to be converted to from Lua value and the body for function receiving arguments <code>(rv_type&amp;&amp; val, <a class="el" href="classlua_1_1_context.html" title="Access point to Lua context. ">lua::Context</a>&amp; context</code> parameter. Example: </p><div class="fragment"><div class="line">std::vector&lt;char&gt; otherArbitraryFunction();</div>
<div class="line"><a class="code" href="lua_8hpp.html#ace2dd220e8d4481f58a9e115d9e227bc">LUAPP_RV_CONVERT</a>(std::vector&lt;char&gt;, {<span class="keywordflow">return</span> context.ret(val.data());}</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>Use this macro outside of namespaces, functions, classes etc. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classlua_1_1_context.html#affbac55a8c123d2b7bc7856a0b9004f5" title="Create a wrapped Lua-compatible function from generic C/C++ function. ">lua::Context::wrap</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_163803e02a322e0a9c03c35a54b1da0b.html">luapp</a></li><li class="navelem"><a class="el" href="lua_8hpp.html">lua.hpp</a></li>
    <li class="footer">Generated on Thu Oct 1 2015 12:17:33 for Lua-API++ by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
